<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:ChatAAC.ViewModels"
        x:Class="ChatAAC.Views.EditButtonWindow"
        x:DataType="vm:EditButtonViewModel"
        xmlns:local="clr-namespace:ChatAAC.Converters"
        Title="Edit Button" Width="400" Height="600">

    <!-- Local resources, e.g. your converter -->
    <Window.Resources>
        <local:StringToBitmapConverter x:Key="StringToBitmapConverter" />
    </Window.Resources>

    <!-- Put everything in a ScrollViewer -->
    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Auto">
        <StackPanel Margin="20" Spacing="10">
            <TextBlock Text="ID:" FontWeight="Bold"/>
            <TextBox Text="{Binding Id}"/>

            <TextBlock Text="Label:" FontWeight="Bold"/>
            <TextBox Text="{Binding Label}"/>

            <TextBlock Text="Border Color:" FontWeight="Bold"/>
            <TextBox Text="{Binding BorderColor}"/>

            <TextBlock Text="Background Color:" FontWeight="Bold"/>
            <TextBox Text="{Binding BackgroundColor}"/>

            <TextBlock Text="Vocalization:" FontWeight="Bold"/>
            <TextBox Text="{Binding Vocalization}"/>

            <TextBlock Text="Action:" FontWeight="Bold"/>
            <TextBox Text="{Binding Action}"/>

            <!-- Image ComboBox -->
            <TextBlock Text="Select Image:" FontWeight="Bold"/>
            <ComboBox ItemsSource="{Binding AvailableImages}"
                      SelectedItem="{Binding SelectedImage, Mode=TwoWay}">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <!-- Limit the displayed image size -->
                            <Image MaxWidth="60" MaxHeight="60"
                                   Source="{Binding ImagePath, Converter={StaticResource StringToBitmapConverter}}"
                                   AutomationProperties.HelpText="{Binding Id}" />
                            <TextBlock Text="{Binding Id}" Margin="10,0,0,0"/>
                        </StackPanel>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <TextBlock Text="LoadBoard Path (optional):" FontWeight="Bold"/>
            <TextBox Text="{Binding LoadBoardPath}"/>

            <!-- Buttons on the right -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10" Margin="0,20,0,0">
                <Button Content="OK" Command="{Binding ConfirmCommand}" Width="80"/>
                <Button Content="Cancel" Command="{Binding CancelCommand}" Width="80"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Window>